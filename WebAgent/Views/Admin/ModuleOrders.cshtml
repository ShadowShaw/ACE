@model IEnumerable<Core.Models.ModuleOrder>
@using System.Linq

@{
    ViewBag.Title = "Správa objednávek modulů";
}

@Html.Partial("PageTitlePartial")

<p>
    @Html.ActionLink("Zadat novou objednávku modulu", "CreateModuleOrder", routeValues: null, htmlAttributes: new { @class="btn btn-default" })
</p>

<table class="table table-condensed table-bordered">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Id)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UserId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ModuleId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OrderDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Price)
        </th>
        <th>
            Akce
        </th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Id)
        </td>
        <td>
            Id: @Html.DisplayFor(modelItem => item.UserId) 
            Username: @Html.Action("GetUserNameForId", new { Id = item.UserId })
        </td>
        <td>
            Id: @Html.DisplayFor(modelItem => item.ModuleId) 
            Jméno: @Html.Action("GetModuleNameForId", new { Id = item.ModuleId })
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.OrderDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            @Html.ActionLink("Editace", "EditModuleOrder", new { id=item.Id }, htmlAttributes: new { @class="btn btn-default btn-xs" })
            @Html.ActionLink("Smazat", "DeleteModuleOrder", new { id=item.Id }, htmlAttributes: new { @class="btn btn-default btn-xs" })        
            @Html.ActionLink("Zobrazit fakturu", "MakeFacture", "User", new { paymentId=item.Id}, htmlAttributes: new { @class="btn btn-default btn-xs" })
        </td>
    </tr>
}

</table>


<p>
    @Html.ActionLink("Zpět na admin index", "Index", routeValues: null, htmlAttributes: new { @class="btn btn-default" })
</p>


